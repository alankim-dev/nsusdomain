<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iGaming 산업 도메인 지식 보고서 | NSUSLAB Insight</title>
    
    <!-- CSS Framework: Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Graphics: FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Visualization: Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .nav-item.active {
            background-color: #e0e7ff;
            color: #4f46e5;
            border-right: 4px solid #4f46e5;
            font-weight: 700;
        }

        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .animate-bounce-in { animation: bounceIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        @keyframes bounceIn { 0% { transform: scale(0.3); opacity: 0; } 50% { transform: scale(1.05); opacity: 1; } 70% { transform: scale(0.9); } 100% { transform: scale(1); } }

        /* Quiz Styles */
        .quiz-option { transition: all 0.2s; }
        .quiz-option:hover:not(:disabled) { background-color: #f3f4f6; border-color: #4f46e5; }
        .quiz-option.correct { background-color: #dcfce7; border-color: #22c55e; color: #14532d; }
        .quiz-option.wrong { background-color: #fee2e2; border-color: #ef4444; color: #7f1d1d; }
        
        /* Tab Styles */
        .tab-btn { border-bottom: 2px solid transparent; transition: all 0.3s; }
        .tab-btn.active { border-bottom-color: #4f46e5; color: #4f46e5; font-weight: bold; }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <!-- Sidebar Navigation -->
    <nav class="w-72 bg-white border-r border-gray-200 flex-shrink-0 flex flex-col hidden md:flex z-20 shadow-lg">
        <div class="p-6 border-b border-gray-100 flex items-center justify-center bg-indigo-50">
            <div class="text-xl font-bold text-indigo-700 tracking-tight">
                <i class="fa-solid fa-gamepad mr-2"></i>iGaming Insight
            </div>
        </div>
        <div class="flex-1 overflow-y-auto py-4">
            <ul class="space-y-1">
                <li>
                    <button onclick="navigate('overview')" id="nav-overview" class="nav-item w-full text-left px-6 py-4 font-medium text-gray-600 hover:bg-gray-50 flex items-center transition-colors">
                        <i class="fa-solid fa-chart-line w-6 mr-2"></i> 1. 산업 개요 및 시장
                    </button>
                </li>
                <li>
                    <button onclick="navigate('tech')" id="nav-tech" class="nav-item w-full text-left px-6 py-4 font-medium text-gray-600 hover:bg-gray-50 flex items-center transition-colors">
                        <i class="fa-solid fa-microchip w-6 mr-2"></i> 2. 기술과 수학 (RNG)
                    </button>
                </li>
                <li>
                    <button onclick="navigate('business')" id="nav-business" class="nav-item w-full text-left px-6 py-4 font-medium text-gray-600 hover:bg-gray-50 flex items-center transition-colors">
                        <i class="fa-solid fa-scale-balanced w-6 mr-2"></i> 3. 비즈니스 & 포커 이코노미
                    </button>
                </li>
                <li>
                    <button onclick="navigate('regulation')" id="nav-regulation" class="nav-item w-full text-left px-6 py-4 font-medium text-gray-600 hover:bg-gray-50 flex items-center transition-colors">
                        <i class="fa-solid fa-gavel w-6 mr-2"></i> 4. 글로벌 규제 및 라이선스
                    </button>
                </li>
                <li>
                    <button onclick="navigate('growth')" id="nav-growth" class="nav-item w-full text-left px-6 py-4 font-medium text-gray-600 hover:bg-gray-50 flex items-center transition-colors">
                        <i class="fa-solid fa-rocket w-6 mr-2"></i> 5. 성장 전략 (Growth)
                    </button>
                </li>
                <li>
                    <button onclick="navigate('rg')" id="nav-rg" class="nav-item w-full text-left px-6 py-4 font-medium text-gray-600 hover:bg-gray-50 flex items-center transition-colors">
                        <i class="fa-solid fa-hand-holding-heart w-6 mr-2"></i> 6. 책임감 있는 게임 (RG)
                    </button>
                </li>
                <li>
                    <button onclick="navigate('future')" id="nav-future" class="nav-item w-full text-left px-6 py-4 font-medium text-gray-600 hover:bg-gray-50 flex items-center transition-colors">
                        <i class="fa-solid fa-robot w-6 mr-2"></i> 7. 미래 트렌드: AI와 블록체인
                    </button>
                </li>
                <li class="border-t border-gray-100 mt-2 pt-2">
                    <button onclick="navigate('quiz')" id="nav-quiz" class="nav-item w-full text-left px-6 py-4 font-bold text-indigo-600 hover:bg-indigo-50 flex items-center transition-colors">
                        <i class="fa-solid fa-clipboard-question w-6 mr-2"></i> 8. 종합 퀴즈 (Master Quiz)
                    </button>
                </li>
            </ul>
        </div>
        <div class="p-5 border-t border-gray-100 bg-gray-50">
            <div class="text-xs text-gray-500 mb-1">Prepared for:</div>
            <div class="font-bold text-indigo-900">NSUSLAB KOREA</div>
            <div class="text-xs text-gray-500 mt-1"><i class="fa-solid fa-user-graduate mr-1"></i>New Hire Onboarding</div>
        </div>
    </nav>

    <!-- Mobile Header -->
    <div class="md:hidden fixed top-0 w-full bg-white z-30 border-b border-gray-200 px-4 py-3 flex justify-between items-center shadow-sm">
        <div class="font-bold text-indigo-700"><i class="fa-solid fa-gamepad mr-2"></i>iGaming Insight</div>
        <button onclick="toggleMobileMenu()" class="text-gray-600"><i class="fa-solid fa-bars text-xl"></i></button>
    </div>
    
    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-gray-800 bg-opacity-75 z-40 hidden" onclick="toggleMobileMenu()">
        <div class="bg-white w-64 h-full shadow-xl flex flex-col" onclick="event.stopPropagation()">
            <div class="p-4 border-b">
                <span class="font-bold text-lg">메뉴</span>
                <button onclick="toggleMobileMenu()" class="float-right text-gray-500"><i class="fa-solid fa-times"></i></button>
            </div>
            <div id="mobile-nav-list" class="flex-col p-2 space-y-2"></div>
        </div>
    </div>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto bg-slate-50 relative pt-14 md:pt-0" id="main-content">
        <div class="max-w-6xl mx-auto p-6 md:p-10 space-y-10">
            <div id="content-area"></div>
        </div>
    </main>

    <!-- Data Storage & Logic -->
    <script>
        // --- Data Store ---
        const reportData = {
            market: {
                growth: {
                    labels: ['2023', '2024 (Est)', '2025 (Proj)', '2030 (Proj)'],
                    data: [700, 970, 1055, 1536], 
                    source: "다양한 시장 조사 기관 (Grand View Research 등)"
                },
                verticals: {
                    labels: ['스포츠 베팅', '온라인 카지노', '포커 및 기타'],
                    data: [52.5, 30.2, 17.3],
                    desc: "스포츠 베팅이 과반, 포커는 특화 시장."
                },
                regions: [
                    { name: '유럽 (Europe)', share: 41, status: '성숙 & 규제됨', color: '#4f46e5', desc: '가장 큰 시장, MGA/UKGC 등 확립된 규제.' },
                    { name: '북미 (North America)', share: 25, status: '급성장 중', color: '#10b981', desc: '미국 주별 합법화 확산 (NJ, PA 등).' },
                    { name: '아시아 (APAC)', share: 20, status: '복잡함/회색시장', color: '#f59e0b', desc: '잠재력은 크나 규제 장벽 높음 (오프쇼어 시장).' },
                    { name: '기타 (RoW)', share: 14, status: '초기 단계', color: '#64748b', desc: '남미(브라질) 등 신흥 시장 부상.' }
                ]
            },
            quiz: [
                {
                    q: "다음 중 NSUS 그룹의 주요 비즈니스 영역이자 'Skill Game'으로 분류되는 것은?",
                    options: ["슬롯머신", "룰렛", "온라인 포커 (GGPoker)", "스포츠 베팅"],
                    correct: 2,
                    rationale: "포커는 플레이어 간의 대결(PVP)이며 기술과 전략이 승패에 큰 영향을 미치는 Skill Game입니다."
                },
                {
                    q: "어떤 슬롯 게임의 RTP(환수율)가 96%입니다. 이 게임의 '하우스 엣지(House Edge)'는?",
                    options: ["96%", "0%", "50%", "4%"],
                    correct: 3,
                    rationale: "전체(100%)에서 플레이어에게 돌아가는 몫(96%)을 뺀 나머지가 카지노의 수익입니다."
                },
                {
                    q: "RNG(난수 생성기)의 가장 중요한 특징으로, '이전 결과가 다음 결과에 영향을 주지 않음'을 뜻하는 용어는?",
                    options: ["패턴 반복", "독립 시행 (Independent Events)", "종속 시행", "알고리즘 조정"],
                    correct: 1,
                    rationale: "RNG의 핵심은 예측 불가능성(독립 시행)입니다. 잭팟이 터졌다고 해서 다음 판에 안 터질 확률이 높아지지 않습니다."
                },
                {
                    q: "iGaming 회사의 순수익 지표인 NGR(Net Gaming Revenue)의 계산 공식으로 옳은 것은?",
                    options: ["총 베팅액 - 당첨금", "GGR - (보너스 + 세금 + 수수료)", "총 베팅액 + 보너스", "GGR * RTP"],
                    correct: 1,
                    rationale: "NGR은 매출(GGR)에서 보너스 비용, 세금, 수수료 등을 뺀 회사의 실제 순수익입니다."
                },
                {
                    q: "포커 비즈니스에서 LTV(생애 가치) 계산 시 고려하지 않는 요소는?",
                    options: ["NGR (순수익)", "Ecology Impact (생태계 기여도)", "Historical Ratio (유지 기간)", "House Edge"],
                    correct: 3,
                    rationale: "하우스 엣지는 카지노 용어입니다. 포커 LTV는 NGR × Ecology × Historical Ratio로 계산합니다."
                },
                {
                    q: "포커 생태계(Ecology)에서 'Fish'가 너무 빨리 돈을 잃고 떠나면 발생하는 현상은?",
                    options: ["Shark의 수익 증가", "생태계 활성화", "Shark도 떠나고 생태계 붕괴", "영향 없음"],
                    correct: 2,
                    rationale: "Fish(초보자)는 생태계의 영양분입니다. 이들이 사라지면 포식자(Shark)들도 먹이가 없어 떠나게 됩니다."
                },
                {
                    q: "유동성(Liquidity)의 개념 중 '얼마나 자유롭게 테이블에 참여할 수 있는가(비자/여권)'를 의미하는 것은?",
                    options: ["Liquidity Depth", "Liquidity Access", "Liquidity Volume", "Liquidity Flow"],
                    correct: 1,
                    rationale: "Depth는 플레이어 수(항공편 수), Access는 접근 권한(여권/비자)에 비유됩니다."
                },
                {
                    q: "세계에서 가장 규제가 엄격하여 소비자 보호의 '골드 스탠다드'로 불리는 라이선스 기관은?",
                    options: ["Curacao", "UKGC (영국)", "PAGCOR", "MGA (몰타 - 2위)"],
                    correct: 1,
                    rationale: "영국 도박 위원회(UKGC)는 가장 까다로운 규제와 높은 신뢰도를 자랑합니다."
                },
                {
                    q: "책임감 있는 게임(RG)에서 AI 기술이 주로 활용되는 방식은?",
                    options: ["그래픽 향상", "승률 조작", "분노 베팅 등 이상 징후 감지", "마케팅 자동화"],
                    correct: 2,
                    rationale: "AI는 유저의 평소 패턴과 다른 과몰입/분노 베팅 징후를 감지하여 보호 조치를 취하는 데 사용됩니다."
                },
                {
                    q: "중앙 서버 없이 블록체인 해시값을 통해 유저가 직접 게임 결과의 공정성을 검증하는 기술은?",
                    options: ["RNG", "SSL", "Provably Fair", "KYC"],
                    correct: 2,
                    rationale: "Provably Fair는 암호화 기술을 통해 운영자의 개입 없음을 유저가 직접 검증할 수 있게 합니다."
                }
            ]
        };

        let currentState = {
            activeSection: 'overview',
            businessTab: 'general',
            charts: {},
            simulation: { balance: 1000, spins: 0 },
            quiz: { currentQuestion: 0, score: 0 }
        };

        // 1. Overview
        const renderOverview = () => `
            <header class="mb-10 animate-fade-in border-b border-gray-200 pb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">1. 산업 개요 및 시장</h1>
                <div class="text-gray-600 text-lg leading-relaxed space-y-2">
                    <p><strong>iGaming</strong>은 인터넷을 통해 결과에 돈이나 가치를 거는 모든 형태의 온라인 베팅을 의미합니다. 이 산업은 단순한 엔터테인먼트를 넘어, 고도화된 IT 기술(AI, Blockchain)과 복잡한 금융 규제(Fintech)가 얽힌 거대한 글로벌 마켓입니다.</p>
                    <p class="text-sm bg-indigo-50 p-3 rounded-lg border-l-4 border-indigo-500 text-indigo-800"><i class="fa-solid fa-lightbulb mr-2"></i> <strong>NSUSLAB Insight:</strong> 우리는 이 거대한 시장에서 '포커(Poker)'라는 독자적인 생태계와 '카지노 플랫폼(Casino Platform)' 기술을 공급하는 핵심 플레이어입니다.</p>
                </div>
            </header>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 card-hover">
                    <h3 class="text-xl font-bold text-gray-700 mb-2">글로벌 시장 성장 추이</h3>
                    <p class="text-sm text-gray-500 mb-6">단위: 억 달러 (USD Billion)</p>
                    <div class="chart-container"><canvas id="growthChart"></canvas></div>
                    <div class="mt-4 p-3 bg-green-50 rounded-lg text-sm text-green-800 flex items-start"><i class="fa-solid fa-arrow-trend-up mt-1 mr-2"></i><div><span class="font-bold">지속적인 성장:</span> 2030년까지 연평균 10% 이상의 고성장이 예상됩니다.</div></div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 card-hover">
                    <h3 class="text-xl font-bold text-gray-700 mb-2">게임 유형별 시장 점유율</h3>
                    <p class="text-sm text-gray-500 mb-6">2024년 기준 추정치</p>
                    <div class="chart-container"><canvas id="verticalChart"></canvas></div>
                    <div class="mt-4 grid grid-cols-1 gap-2 text-sm text-gray-600">
                        <div class="flex justify-between items-center p-2 bg-indigo-50 rounded"><span class="font-bold text-indigo-700">⚽ 스포츠 베팅 (52.5%)</span><span>실제 경기 결과 예측. 시장의 과반 차지.</span></div>
                        <div class="flex justify-between items-center p-2 bg-amber-50 rounded"><span class="font-bold text-amber-700">🎰 온라인 카지노 (30.2%)</span><span>슬롯, 룰렛 등 RNG 기반 게임.</span></div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">게임의 본질: Skill vs Chance</h3>
                <p class="text-gray-600 mb-6">iGaming은 결과가 무엇에 의해 결정되는지에 따라 크게 두 가지로 나뉩니다. 이는 규제 적용과 타겟 유저층을 결정하는 가장 중요한 기준입니다.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-indigo-50 p-6 rounded-xl border-2 border-indigo-200 relative transform hover:scale-105 transition-transform shadow-md">
                        <div class="absolute -top-3 left-6 bg-indigo-600 text-white text-xs px-3 py-1 rounded-full uppercase font-bold tracking-wide">Primary Focus (NSUS)</div>
                        <div class="text-4xl mb-4">🃏</div>
                        <h4 class="text-xl font-bold text-indigo-900 mb-2">Skill Game (GGPoker)</h4>
                        <p class="text-sm text-indigo-600 mb-4 font-semibold">텍사스 홀덤, 오마하 등</p>
                        <ul class="text-sm text-indigo-800 space-y-2 list-disc list-inside">
                            <li><strong>결정 요인:</strong> 운 + 실력(심리, 확률 계산)</li>
                            <li><strong>구조:</strong> Player vs Player (PVP)</li>
                            <li><strong>수익 모델:</strong> 레이크 (Rake, 수수료)</li>
                            <li><strong>비즈니스 특징:</strong> 유동성(Liquidity) 관리가 핵심</li>
                        </ul>
                    </div>
                    <div class="bg-amber-50 p-6 rounded-xl border-2 border-amber-200 relative transform hover:scale-105 transition-transform shadow-md">
                        <div class="absolute -top-3 left-6 bg-amber-600 text-white text-xs px-3 py-1 rounded-full uppercase font-bold tracking-wide">Casino Vertical</div>
                        <div class="text-4xl mb-4">🎰</div>
                        <h4 class="text-xl font-bold text-amber-900 mb-2">Chance Game (GGVegas)</h4>
                        <p class="text-sm text-amber-700 mb-4 font-semibold">슬롯, 룰렛, 바카라</p>
                        <ul class="text-sm text-amber-800 space-y-2 list-disc list-inside">
                            <li><strong>결정 요인:</strong> 100% RNG (순수 운)</li>
                            <li><strong>구조:</strong> Player vs House</li>
                            <li><strong>수익 모델:</strong> 하우스 엣지 (House Edge)</li>
                            <li><strong>전략:</strong> 불가능함 (운에 의존)</li>
                        </ul>
                    </div>
                </div>
            </div>
        `;

        // 2. Tech
        const renderTech = () => `
            <header class="mb-10 animate-fade-in border-b border-gray-200 pb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">2. 기술과 수학 (RNG)</h1>
                <div class="text-gray-600 text-lg leading-relaxed"><p>디지털 카지노 게임의 신뢰성은 <strong>RNG(난수 생성기)</strong>라는 기술적 심장과, <strong>RTP(환수율)</strong>라는 수학적 뇌에 의해 작동합니다.</p></div>
            </header>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-10">
                <div class="lg:col-span-1 space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-blue-500">
                        <h3 class="font-bold text-gray-800 text-lg mb-2"><i class="fa-solid fa-dice mr-2"></i>RNG (난수 생성기)</h3>
                        <p class="text-gray-600 text-sm">예측 불가능한 결과를 생성하는 알고리즘. 핵심 원칙은 <strong>'독립 시행'</strong>입니다. 이전 판에 잭팟이 터졌다고 해서, 이번 판에 안 터질 확률이 높아지는 것이 아닙니다.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-green-500">
                        <h3 class="font-bold text-gray-800 text-lg mb-2"><i class="fa-solid fa-chart-pie mr-2"></i>RTP (환수율)</h3>
                        <p class="text-gray-600 text-sm"><strong>Return To Player.</strong> 장기적으로 플레이어에게 돌아가는 판돈의 비율입니다. (예: 96%) 나머지 4%는 하우스 엣지(운영사 수익)입니다.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-amber-500">
                        <h3 class="font-bold text-gray-800 text-lg mb-2"><i class="fa-solid fa-bolt mr-2"></i>변동성 (Volatility)</h3>
                        <p class="text-gray-600 text-sm">게임의 '맛'입니다. 하이 리스크 하이 리턴(고변동성)이냐, 잔잔하게 오래 즐기느냐(저변동성)의 차이입니다.</p>
                    </div>
                </div>
                
                <div class="lg:col-span-2 bg-white p-8 rounded-xl shadow-lg border border-indigo-100">
                    <div class="flex justify-between items-end mb-6">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800 flex items-center">🎰 RNG & 변동성 시뮬레이터</h3>
                            <p class="text-sm text-gray-500 mt-1">단기적으로는 플레이어가 이길 수 있지만(변동성), 장기적으로는 수학적 확률(하우스 엣지)에 수렴합니다.</p>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-3 py-1 bg-gray-100 text-gray-600 rounded text-xs font-bold mb-1">설정값</span>
                            <div class="text-xs text-gray-500">RTP: 96% | 변동성: Medium</div>
                        </div>
                    </div>
                    
                    <div class="relative bg-slate-50 rounded-lg border border-slate-200 p-2 mb-6">
                        <div class="chart-container h-80"><canvas id="simChart"></canvas></div>
                        <div id="sim-message" class="absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg hidden">
                            <div class="bg-white p-6 rounded-xl shadow-2xl text-center animate-bounce-in">
                                <div class="text-3xl mb-2">💸</div>
                                <h4 class="text-xl font-bold text-gray-800">잔액 소진 (Game Over)</h4>
                                <p class="text-sm text-gray-500 mb-4">이것이 하우스 엣지의 장기적인 결과입니다.</p>
                                <button onclick="resetSimulation()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700">다시 시작</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-4 mb-6">
                        <div class="bg-indigo-50 p-4 rounded-lg text-center border border-indigo-100">
                            <div class="text-xs text-indigo-500 font-bold uppercase tracking-wider mb-1">현재 잔액</div>
                            <div id="sim-balance" class="text-2xl font-mono font-bold text-indigo-700">$1,000</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg text-center border border-gray-200">
                            <div class="text-xs text-gray-500 font-bold uppercase tracking-wider mb-1">스핀 횟수</div>
                            <div id="sim-spins" class="text-2xl font-mono font-bold text-gray-700">0</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg text-center border border-gray-200">
                            <div class="text-xs text-gray-500 font-bold uppercase tracking-wider mb-1">현재 수익률 (RTP)</div>
                            <div id="sim-rtp" class="text-2xl font-mono font-bold text-gray-700">0%</div>
                        </div>
                    </div>
                    
                    <div class="flex gap-3">
                        <button onclick="runSimulation(1)" class="flex-1 bg-white border-2 border-indigo-600 text-indigo-600 py-3 rounded-lg font-bold hover:bg-indigo-50 transition active:scale-95">1회 스핀 (수동)</button>
                        <button onclick="runSimulation(50)" class="flex-1 bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 shadow-md transition active:scale-95 flex justify-center items-center"><i class="fa-solid fa-forward mr-2"></i> 50회 자동 스핀</button>
                        <button onclick="resetSimulation()" class="px-5 border border-gray-300 text-gray-500 rounded-lg hover:bg-gray-100" title="초기화"><i class="fa-solid fa-rotate-right"></i></button>
                    </div>
                    
                    <div class="mt-4 p-3 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200 flex items-start">
                        <i class="fa-solid fa-circle-info mt-0.5 mr-2"></i>
                        <p><strong>Insight:</strong> 그래프가 일직선으로 떨어지지 않고 오르락내리락하는 것을 <strong>'분산(Variance)'</strong>이라고 합니다. 이 구간에서 플레이어는 돈을 따는 즐거움을 느끼지만, 시행 횟수가 많아질수록 잔액은 결국 0(하우스 엣지)을 향해 갑니다.</p>
                    </div>
                </div>
            </div>
            <div class="bg-slate-800 text-white p-8 rounded-xl shadow-xl border border-slate-700">
                <h3 class="text-2xl font-bold mb-6 flex items-center"><i class="fa-solid fa-shield-halved text-green-400 mr-3"></i>Game Integrity (공정성 유지 기술)</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-bold text-lg text-blue-300 mb-2">Anti-Bot & AI Detection</h4>
                        <p class="text-sm text-gray-300 leading-relaxed mb-4">포커는 사람 간의 대결이므로 봇(Bot)이나 AI의 개입을 막는 것이 필수입니다. NSUS는 유저의 마우스 움직임, 클릭 패턴, 반응 속도 등을 분석하여 비정상적인 패턴을 실시간으로 탐지합니다.</p>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg text-red-300 mb-2">GTO (Game Theory Optimal) 방지</h4>
                        <p class="text-sm text-gray-300 leading-relaxed">실시간 조언 프로그램(RTA) 사용을 차단합니다. 게임 클라이언트 레벨에서 불법 프로세스를 감지하고, 서버 사이드에서는 GTO에 가까운 완벽한 플레이 패턴을 역추적하여 제재합니다.</p>
                    </div>
                </div>
            </div>
        `;

        // 3. Business
        const renderBusiness = () => {
            const isPoker = currentState.businessTab === 'poker';
            return `
                <header class="mb-8 animate-fade-in border-b border-gray-200 pb-6">
                    <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">3. 비즈니스 & 포커 이코노미</h1>
                    <div class="text-gray-600 text-lg leading-relaxed"><p class="mb-4">NSUS 비즈니스의 핵심은 <strong>카지노의 수학(GGR/NGR)</strong>과 <strong>포커의 생태계(Rake/Ecology)</strong>를 모두 이해하는 것입니다.</p></div>
                    <div class="flex space-x-6 mt-6">
                        <button onclick="switchBusinessTab('general')" class="tab-btn pb-2 px-1 text-lg ${!isPoker ? 'active' : 'text-gray-500 hover:text-gray-700'}"><i class="fa-solid fa-chart-simple mr-2"></i>일반 iGaming (GGR/NGR)</button>
                        <button onclick="switchBusinessTab('poker')" class="tab-btn pb-2 px-1 text-lg ${isPoker ? 'active' : 'text-gray-500 hover:text-gray-700'}"><i class="fa-solid fa-fish-fins mr-2"></i>포커 생태계 (Fish vs Shark)</button>
                    </div>
                </header>
                <div id="business-content" class="animate-fade-in">${!isPoker ? renderGeneralBusiness() : renderPokerBusiness()}</div>
            `;
        };

        const renderGeneralBusiness = () => `
            <!-- Value Chain -->
            <div class="bg-white p-8 rounded-xl shadow-sm border border-gray-100 mb-10">
                <h3 class="text-xl font-bold text-gray-800 mb-6">iGaming 가치 사슬 (Value Chain)</h3>
                <div class="flex flex-col md:flex-row items-stretch justify-between gap-4">
                    <div class="flex-1 bg-indigo-50 border-2 border-indigo-200 p-6 rounded-xl text-center relative hover:shadow-lg transition-all transform hover:-translate-y-1">
                        <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-indigo-600 text-white text-xs px-3 py-1 rounded-full font-bold shadow-sm">We are Here</div>
                        <i class="fa-solid fa-code text-4xl text-indigo-500 mb-4"></i>
                        <h4 class="text-lg font-bold text-gray-900">Game Provider</h4>
                        <p class="text-xs text-gray-500 mt-3 leading-snug">게임을 만들고 서버를 운영합니다. RNG의 무결성을 책임집니다.</p>
                    </div>
                    <div class="flex items-center justify-center text-gray-300"><i class="fa-solid fa-arrow-right text-2xl rotate-90 md:rotate-0"></i></div>
                    <div class="flex-1 bg-white border border-gray-200 p-6 rounded-xl text-center hover:shadow-lg transition-all transform hover:-translate-y-1">
                        <i class="fa-solid fa-store text-4xl text-amber-500 mb-4"></i>
                        <h4 class="text-lg font-bold text-gray-900">Operator</h4>
                        <p class="text-xs text-gray-500 mt-3 leading-snug">유저를 모으고, 입출금을 처리하고, 라이선스를 관리합니다.</p>
                    </div>
                    <div class="flex items-center justify-center text-gray-300"><i class="fa-solid fa-arrow-right text-2xl rotate-90 md:rotate-0"></i></div>
                    <div class="flex-1 bg-white border border-gray-200 p-6 rounded-xl text-center hover:shadow-lg transition-all transform hover:-translate-y-1">
                        <i class="fa-solid fa-users text-4xl text-green-500 mb-4"></i>
                        <h4 class="text-lg font-bold text-gray-900">Player</h4>
                        <p class="text-xs text-gray-500 mt-3 leading-snug">게임을 즐기고 비용을 지불합니다.</p>
                    </div>
                </div>
            </div>
            <!-- GGR vs NGR Deep Dive -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="space-y-4">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">수익 지표 심층 분석</h3>
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <h4 class="font-bold text-gray-800 mb-2">1. GGR (Gross Gaming Revenue)</h4>
                        <p class="text-sm text-gray-600 mb-2"><strong>공식:</strong> 총 베팅액 - 총 당첨금</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg border-2 border-green-100">
                        <h4 class="font-bold text-green-800 mb-2">2. NGR (Net Gaming Revenue)</h4>
                        <p class="text-sm text-gray-600 mb-2"><strong>공식:</strong> GGR - (보너스 + 세금 + 수수료 + 로열티)</p>
                        <p class="text-xs text-gray-500">회사가 실제로 손에 쥐는 돈입니다.</p>
                    </div>
                    <div class="bg-indigo-50 p-5 rounded-lg border border-indigo-100 mt-4">
                        <h4 class="font-bold text-indigo-800 mb-2">실습: NGR 계산하기</h4>
                        <div class="space-y-3">
                            <div><label class="text-xs text-gray-500 font-bold uppercase">총 베팅액 (Handle)</label><input type="number" id="calc-bets" value="1000000" class="w-full p-2 border border-indigo-200 rounded text-right font-mono" oninput="calculateNGR()"></div>
                            <!-- RESTORED: Separated inputs matching the image -->
                            <div><label class="text-xs text-gray-500 font-bold uppercase">보너스 비용</label><input type="number" id="calc-bonus" value="5000" class="w-full p-2 border border-indigo-200 rounded text-right font-mono" oninput="calculateNGR()"></div>
                            <div><label class="text-xs text-gray-500 font-bold uppercase">세금/수수료</label><input type="number" id="calc-tax" value="10000" class="w-full p-2 border border-indigo-200 rounded text-right font-mono" oninput="calculateNGR()"></div>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-100 flex flex-col">
                    <h4 class="text-center font-bold text-gray-700 mb-4">수익 구조 (Waterfall Chart)</h4>
                    <div class="chart-container flex-1"><canvas id="ngrChart"></canvas></div>
                    <div class="mt-4 p-4 bg-gray-50 rounded-lg flex justify-between items-center">
                        <div><div class="text-xs text-gray-500">Gross (GGR)</div><div id="res-ggr" class="text-lg font-bold text-gray-700">$40,000</div></div>
                        <div class="text-right"><div class="text-xs text-gray-500">Net (NGR)</div><div id="res-ngr" class="text-2xl font-bold text-green-600">$25,000</div></div>
                    </div>
                </div>
            </div>
        `;

        const renderPokerBusiness = () => `
            <!-- 1. Liquidity Concept -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4"><i class="fa-solid fa-water text-blue-500 mr-2"></i>유동성 (Liquidity)</h3>
                <p class="text-gray-600 mb-4 text-sm">포커 비즈니스의 성공은 유동성에 달려 있습니다. PPT에서는 이를 '공항'에 비유합니다.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200"><h4 class="font-bold text-blue-800 mb-1"><i class="fa-solid fa-plane-departure mr-2"></i>Liquidity Depth</h4><p class="text-xs text-blue-600"><strong>비유: 운항 편수 (Flights)</strong><br>동시간대에 얼마나 많은 테이블이 돌아가는가? 대기 시간 없이 바로 게임이 가능한가?</p></div>
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200"><h4 class="font-bold text-blue-800 mb-1"><i class="fa-solid fa-passport mr-2"></i>Liquidity Access</h4><p class="text-xs text-blue-600"><strong>비유: 여권/비자 (Passport)</strong><br>내가 어디까지 갈 수 있는가? (Global vs Ring-fenced Market). 다양한 국가의 플레이어와 섞일 수 있는가?</p></div>
                </div>
            </div>

            <!-- 2. Ecology Personas -->
            <div class="bg-slate-800 text-white p-8 rounded-xl shadow-xl mb-8">
                <h3 class="text-2xl font-bold mb-6 text-center"><i class="fa-solid fa-earth-americas mr-2"></i>포커 생태계 (The Ecology)</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div class="bg-slate-700 p-4 rounded-lg"><div class="text-4xl mb-2">😐</div><h4 class="font-bold text-yellow-400">Casual</h4><p class="text-xs text-gray-300 mt-1">재미 추구, 적은 볼륨.<br>유동성의 원천.</p></div>
                    <div class="bg-slate-700 p-4 rounded-lg"><div class="text-4xl mb-2">👷</div><h4 class="font-bold text-blue-400">Grinder</h4><p class="text-xs text-gray-300 mt-1">많은 게임 볼륨.<br>낮은 변동성 선호.</p></div>
                    <div class="bg-slate-700 p-4 rounded-lg"><div class="text-4xl mb-2">🐳</div><h4 class="font-bold text-purple-400">Whale</h4><p class="text-xs text-gray-300 mt-1">많은 입금, 낮은 승률.<br>생태계의 영양분.</p></div>
                    <div class="bg-slate-700 p-4 rounded-lg"><div class="text-4xl mb-2">🦈</div><h4 class="font-bold text-red-400">Shark</h4><p class="text-xs text-gray-300 mt-1">높은 승률, 포식자.<br>수를 조절해야 함.</p></div>
                </div>
                <p class="text-xs text-gray-400 mt-4 text-center border-t border-gray-600 pt-2">"Shark가 Fish의 돈을 너무 빨리 따버리면(Bust), 생태계는 붕괴됩니다. 밸런스가 핵심입니다."</p>
            </div>

            <!-- 3. LTV Calculator -->
            <div class="bg-indigo-50 border-2 border-indigo-200 p-6 rounded-xl shadow-sm">
                <h3 class="text-xl font-bold text-indigo-900 mb-4"><i class="fa-solid fa-calculator mr-2"></i>포커 플레이어 LTV 계산기</h3>
                <div class="text-sm text-indigo-700 mb-4 p-2 bg-white rounded border border-indigo-100"><strong>공식:</strong> LTV = (첫 28일 NGR) × (Ecology Impact) × (Historical Ratio)</div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div><label class="block text-xs font-bold text-gray-600 mb-1">첫 28일 NGR ($)</label><input type="number" id="ltv-ngr" value="100" class="w-full p-2 border rounded font-mono" oninput="calculateLTV()"></div>
                    <div><label class="block text-xs font-bold text-gray-600 mb-1">Ecology Impact (0.5 ~ 1.5)</label><select id="ltv-eco" class="w-full p-2 border rounded" onchange="calculateLTV()"><option value="0.5">0.5 (Shark - 생태계 해침)</option><option value="1.0" selected>1.0 (Average)</option><option value="1.5">1.5 (Whale/Fish - 생태계 기여)</option></select></div>
                    <div><label class="block text-xs font-bold text-gray-600 mb-1">Historical Ratio (예: 12개월)</label><input type="number" id="ltv-history" value="10" class="w-full p-2 border rounded font-mono" oninput="calculateLTV()"></div>
                </div>
                <div class="flex justify-between items-center bg-indigo-600 text-white p-4 rounded-lg"><span class="font-medium">예상 생애 가치 (LTV):</span><span id="ltv-result" class="text-2xl font-bold">$1,000</span></div>
            </div>
        `;

        // 4. Growth
        const renderGrowth = () => `
            <header class="mb-10 animate-fade-in border-b border-gray-200 pb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">5. 성장 전략 (Growth)</h1>
                <p class="text-gray-600 text-lg">GGPoker의 성장은 <strong>획득(Acquisition)</strong>과 <strong>유지(Retention)</strong>의 강력한 순환 구조에서 나옵니다.</p>
            </header>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                <div class="space-y-6">
                    <h3 class="text-2xl font-bold text-gray-800 flex items-center"><i class="fa-solid fa-magnet text-indigo-600 mr-2"></i> User Acquisition</h3>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <h4 class="font-bold text-gray-700 mb-4">주요 마케팅 채널</h4>
                        <ul class="space-y-4">
                            <li class="flex items-center"><div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3"><i class="fa-solid fa-handshake"></i></div><div><span class="font-bold block text-sm">Affiliate Partners</span><span class="text-xs text-gray-500">외부 웹사이트/커뮤니티를 통한 유입 유도.</span></div></li>
                            <li class="flex items-center"><div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-3"><i class="fa-solid fa-user-tag"></i></div><div><span class="font-bold block text-sm">Influencers & Agents</span><span class="text-xs text-gray-500">Daniel Negreanu와 같은 앰버서더 및 로컬 에이전트 활용.</span></div></li>
                            <li class="flex items-center"><div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3"><i class="fa-solid fa-magnifying-glass"></i></div><div><span class="font-bold block text-sm">SEO & Digital Marketing</span><span class="text-xs text-gray-500">검색 엔진 최적화 및 유료 광고 캠페인.</span></div></li>
                        </ul>
                    </div>
                </div>
                <div class="space-y-6">
                    <h3 class="text-2xl font-bold text-gray-800 flex items-center"><i class="fa-solid fa-rotate-right text-amber-600 mr-2"></i> User Retention</h3>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                        <h4 class="font-bold text-gray-700 mb-4">리텐션 프로그램</h4>
                        <div class="space-y-3">
                            <div class="border-l-4 border-amber-400 pl-4 py-1"><span class="font-bold text-gray-800 text-sm">Fish Buffet</span><p class="text-xs text-gray-500 mt-1">티어제 캐시백 프로그램. 많이 할수록 더 많은 보상 (최대 60%).</p></div>
                            <div class="border-l-4 border-pink-400 pl-4 py-1"><span class="font-bold text-gray-800 text-sm">Honeymoon</span><p class="text-xs text-gray-500 mt-1">신규 유저를 위한 30일 미션. 소프트웨어 탐색을 유도하여 초기 이탈 방지.</p></div>
                            <div class="border-l-4 border-blue-400 pl-4 py-1"><span class="font-bold text-gray-800 text-sm">GG Care & Cheers</span><p class="text-xs text-gray-500 mt-1">Bad Beat(불운)나 Big Pot(행운) 상황 발생 시 자동으로 보너스 토너먼트 등록.</p></div>
                        </div>
                    </div>
                </div>
            </div>
        `;

        // 5. Regulation
        const renderRegulation = () => `
            <header class="mb-10 animate-fade-in border-b border-gray-200 pb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">4. 글로벌 규제 및 라이선스</h1>
                <div class="text-gray-600 text-lg leading-relaxed"><p>iGaming은 '신뢰(Trust)'를 파는 산업입니다. 적법한 라이선스(MGA, UKGC)가 없다면 정상적인 운영이 불가능하고, 유저들도 사이트를 신뢰하지 않습니다.</p></div>
            </header>
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 mb-10">
                ${reportData.market.regions.map(r => `
                    <div class="bg-white p-5 rounded-xl shadow-sm border-t-4 hover:shadow-md transition-shadow" style="border-color: ${r.color}">
                        <h3 class="font-bold text-gray-800 text-lg mb-1">${r.name}</h3>
                        <div class="flex items-center justify-between mb-3"><span class="text-xs font-bold px-2 py-1 rounded bg-gray-100 text-gray-600 border border-gray-200">${r.status}</span><span class="text-xl font-bold" style="color: ${r.color}">${r.share}%</span></div>
                        <p class="text-sm text-gray-500 leading-snug">${r.desc}</p>
                    </div>
                `).join('')}
            </div>
            <div class="bg-white p-8 rounded-xl shadow-sm border border-gray-100">
                <h3 class="text-xl font-bold text-gray-800 mb-6">주요 규제 기관 및 인증</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-bold text-indigo-700 mb-4 border-b pb-2 flex items-center"><i class="fa-solid fa-building-columns mr-2"></i> 규제 기관 (Regulators)</h4>
                        <p class="text-sm text-gray-600 mb-4">사업 운영 허가권(License)을 발급하고 감시하는 정부 기관입니다.</p>
                        <ul class="space-y-4">
                            <li class="flex items-start bg-gray-50 p-3 rounded-lg"><div class="min-w-[40px] pt-1"><i class="fa-solid fa-certificate text-amber-500 text-xl"></i></div><div><span class="font-bold block text-gray-800">UKGC (영국)</span><span class="text-sm text-gray-500">세계에서 가장 엄격한 '골드 스탠다드'. 플레이어 보호 규정이 매우 까다롭습니다.</span></div></li>
                            <li class="flex items-start bg-gray-50 p-3 rounded-lg"><div class="min-w-[40px] pt-1"><i class="fa-solid fa-certificate text-blue-500 text-xl"></i></div><div><span class="font-bold block text-gray-800">MGA (몰타)</span><span class="text-sm text-gray-500">유럽 시장 진입의 관문. B2B(개발사)와 B2C(운영사) 라이선스를 모두 관장합니다.</span></div></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-indigo-700 mb-4 border-b pb-2 flex items-center"><i class="fa-solid fa-microscope mr-2"></i> 기술 감사 (Auditors)</h4>
                        <p class="text-sm text-gray-600 mb-4">게임이 수학적으로 공정한지 소스코드를 검증하는 독립 연구소입니다.</p>
                        <ul class="space-y-4">
                            <li class="flex items-start bg-indigo-50 p-3 rounded-lg border border-indigo-200"><div class="min-w-[40px] pt-1"><i class="fa-solid fa-star text-indigo-600 text-xl"></i></div><div><span class="font-bold block text-indigo-800">BMM Testlabs <span class="bg-indigo-600 text-white text-xs px-2 py-0.5 rounded ml-2">NSUS 파트너</span></span><span class="text-sm text-indigo-600">세계에서 가장 오래된 독립 게임 시험소 중 하나로, NSUS의 RNG는 이곳의 엄격한 테스트를 통과했습니다.</span></div></li>
                            <li class="flex items-start bg-gray-50 p-3 rounded-lg"><div class="min-w-[40px] pt-1"><i class="fa-solid fa-check-double text-green-600 text-xl"></i></div><div><span class="font-bold block text-gray-800">eCOGRA</span><span class="text-sm text-gray-500">RNG 공정성 테스트 및 RTP 검증. 인증 마크는 사이트의 신뢰도를 높입니다.</span></div></li>
                            <li class="flex items-start bg-gray-50 p-3 rounded-lg"><div class="min-w-[40px] pt-1"><i class="fa-solid fa-flask text-green-600 text-xl"></i></div><div><span class="font-bold block text-gray-800">GLI (Gaming Labs Int.)</span><span class="text-sm text-gray-500">전 세계 대부분의 규제 기관이 인정하는 표준 기술 인증을 제공합니다.</span></div></li>
                        </ul>
                    </div>
                </div>
            </div>
        `;

        // 6. RG (Restored Content)
        const renderRG = () => `
            <header class="mb-10 animate-fade-in border-b border-gray-200 pb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">6. 책임감 있는 게임 (RG)</h1>
                <div class="text-gray-600 text-lg leading-relaxed">
                    <p>NSUSLAB에게 있어 Responsible Gaming(RG)은 단순한 규제 준수가 아닙니다. <strong>"건전한 유저가 오래 즐기는 것"</strong>이 곧 회사의 지속 가능한 이익으로 연결된다는 핵심 경영 철학입니다.</p>
                </div>
            </header>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-blue-500 hover:shadow-lg transition-shadow">
                    <div class="text-3xl text-blue-500 mb-4"><i class="fa-solid fa-shield-virus"></i></div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">1. 예방 (Prevention)</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">문제가 발생하기 전에 막습니다. 미성년자 차단(KYC) 및 유저 스스로 설정하는 한도 시스템을 제공합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-indigo-500 hover:shadow-lg transition-shadow">
                    <div class="text-3xl text-indigo-500 mb-4"><i class="fa-solid fa-radar"></i></div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">2. 탐지 (Detection)</h3>
                    <p class="text-sm text-gray-500 leading-relaxed"><strong>AI 기술</strong>을 활용하여 급격한 베팅 금액 증가, 장시간 플레이, 분노 베팅(Tilt) 패턴을 실시간으로 감지합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-amber-500 hover:shadow-lg transition-shadow">
                    <div class="text-3xl text-amber-500 mb-4"><i class="fa-solid fa-user-nurse"></i></div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">3. 개입 (Intervention)</h3>
                    <p class="text-sm text-gray-500 leading-relaxed">위험 신호가 감지되면 즉시 개입합니다. 팝업 경고(Reality Check)를 띄우거나, 강제 휴식 시간을 부여합니다.</p>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-slate-50 border border-slate-200 p-8 rounded-xl">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center"><i class="fa-solid fa-code text-indigo-600 mr-2"></i> 기술적 구현 (NSUSLAB Tech)</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start"><div class="bg-white p-2 rounded shadow-sm mr-3 text-indigo-600"><i class="fa-solid fa-sliders"></i></div><div><h4 class="font-bold text-gray-800 text-sm">Pre-commitment Tools</h4><p class="text-xs text-gray-500">입금 한도, 손실 한도, 시간 한도를 설정하는 UI/UX 개발.</p></div></li>
                        <li class="flex items-start"><div class="bg-white p-2 rounded shadow-sm mr-3 text-indigo-600"><i class="fa-solid fa-clock"></i></div><div><h4 class="font-bold text-gray-800 text-sm">Reality Check</h4><p class="text-xs text-gray-500">"1시간 동안 게임 중입니다. 총 $50를 잃으셨습니다."라는 알림 팝업 시스템.</p></div></li>
                        <li class="flex items-start"><div class="bg-white p-2 rounded shadow-sm mr-3 text-indigo-600"><i class="fa-solid fa-ban"></i></div><div><h4 class="font-bold text-gray-800 text-sm">Self-Exclusion API</h4><p class="text-xs text-gray-500">유저 요청 시 즉시 모든 계정 접속을 차단하고 마케팅 발송을 중단하는 백엔드 로직.</p></div></li>
                    </ul>
                </div>
                <div class="bg-white border border-gray-200 p-6 rounded-xl shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-gray-800 mb-2">RG가 비즈니스에 미치는 영향</h3>
                    <p class="text-xs text-gray-500 mb-4">보호받은 유저(Protected) vs 번아웃 유저(Burnout)의 LTV 비교</p>
                    <div class="chart-container flex-1" style="height: 250px;"><canvas id="rgChart"></canvas></div>
                    <div class="mt-2 text-center text-xs text-gray-400">* RG 툴을 사용하는 유저가 단기 매출은 적지만, 장기적으로 훨씬 높은 가치를 창출합니다.</div>
                </div>
            </div>
        `;

        // 7. Future (Restored Content)
        const renderFuture = () => `
            <header class="mb-10 animate-fade-in border-b border-gray-200 pb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">7. 미래 트렌드: AI와 블록체인</h1>
                <div class="text-gray-600 text-lg leading-relaxed"><p>iGaming의 미래는 <strong>'데이터(Data)'</strong>와 <strong>'투명성(Transparency)'</strong>에 있습니다. AI는 유저 경험을 개인화하고, 블록체인은 중앙 서버가 필요 없는 새로운 신뢰를 만듭니다.</p></div>
            </header>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
                <div class="group bg-gradient-to-br from-indigo-600 to-blue-700 rounded-2xl p-8 text-white shadow-xl transform transition hover:-translate-y-1">
                    <div class="flex items-center mb-6"><div class="bg-white/20 p-3 rounded-lg mr-4"><i class="fa-solid fa-brain text-3xl text-white"></i></div><div><h2 class="text-2xl font-bold">Artificial Intelligence</h2><span class="text-blue-200 text-sm">Data-Driven Operation</span></div></div>
                    <ul class="space-y-4">
                        <li class="bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/5"><div class="font-bold text-blue-100 mb-1"><i class="fa-solid fa-user-gear mr-2"></i>초개인화 (Hyper-Personalization)</div><div class="text-sm text-blue-50/80">모든 유저에게 똑같은 메인이 아닌, 유저 성향(VIP, Fish, Grinder)에 맞춰 게임과 배너를 실시간으로 바꿉니다.</div></li>
                        <li class="bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/5"><div class="font-bold text-blue-100 mb-1"><i class="fa-solid fa-shield-heart mr-2"></i>책임감 있는 게임 (RG)</div><div class="text-sm text-blue-50/80">AI가 분노 베팅(Tilt) 패턴을 감지하여 강제 휴식을 제안합니다. 이는 규제 준수를 넘어 유저 보호를 위한 핵심 기술입니다.</div></li>
                    </ul>
                </div>
                <div class="group bg-gradient-to-br from-slate-800 to-gray-900 rounded-2xl p-8 text-white shadow-xl transform transition hover:-translate-y-1">
                    <div class="flex items-center mb-6"><div class="bg-white/20 p-3 rounded-lg mr-4"><i class="fa-solid fa-link text-3xl text-white"></i></div><div><h2 class="text-2xl font-bold">Blockchain & Crypto</h2><span class="text-gray-400 text-sm">Trustless System</span></div></div>
                    <ul class="space-y-4">
                        <li class="bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/5"><div class="font-bold text-gray-200 mb-1"><i class="fa-solid fa-check-to-slot mr-2"></i>Provably Fair (증명 가능한 공정성)</div><div class="text-sm text-gray-400">"운영자를 믿으세요"가 아닙니다. 유저가 암호화 해시(Hash)값을 통해 게임 결과를 직접 검증할 수 있습니다.</div></li>
                        <li class="bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/5"><div class="font-bold text-gray-200 mb-1"><i class="fa-brands fa-bitcoin mr-2"></i>Instant Payment</div><div class="text-sm text-gray-400">은행을 거치지 않는 즉각적인 입출금으로 글로벌 접근성을 획기적으로 높입니다.</div></li>
                    </ul>
                </div>
            </div>
            <div class="mt-8 bg-amber-50 border border-amber-200 p-8 rounded-2xl text-center">
                <h3 class="text-xl font-bold text-amber-900 mb-2">🚀 NSUSLAB KOREA의 역할</h3>
                <p class="text-amber-800 mb-4 max-w-2xl mx-auto">우리는 단순한 게임 개발사가 아닙니다. <br><strong>대용량 트래픽 처리 기술, AI 보안, 그리고 공정한 RNG 수학</strong>을 통해 전 세계 유저들에게 가장 신뢰받는 <span class="underline decoration-2 underline-offset-4">Tech Solution</span>을 공급합니다.</p>
                <button onclick="navigate('overview')" class="bg-amber-600 text-white px-6 py-2 rounded-full font-bold hover:bg-amber-700 transition shadow-lg">처음으로 돌아가기</button>
            </div>
        `;

        // 8. Quiz
        const renderQuiz = () => {
            const currentQ = reportData.quiz[currentState.quiz.currentQuestion];
            const isFinished = currentState.quiz.currentQuestion >= reportData.quiz.length;
            if (isFinished) {
                const score = currentState.quiz.score;
                const total = reportData.quiz.length;
                let msg = "";
                if(score === total) msg = "🏆 완벽합니다! iGaming 전문가시네요.";
                else if(score >= 7) msg = "🎉 훌륭해요! 대부분의 개념을 잘 이해하셨습니다.";
                else msg = "📚 조금 더 학습이 필요해 보입니다. 다시 도전해보세요!";
                return `<div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-indigo-100 text-center animate-fade-in"><div class="text-6xl mb-4">🎓</div><h2 class="text-3xl font-bold text-gray-800 mb-2">퀴즈 완료!</h2><p class="text-gray-500 mb-6">수고하셨습니다. 최종 점수는...</p><div class="text-5xl font-extrabold text-indigo-600 mb-6">${score} / ${total}</div><p class="text-lg font-medium text-gray-700 mb-8">${msg}</p><button onclick="location.reload()" class="bg-indigo-600 text-white px-8 py-3 rounded-full font-bold hover:bg-indigo-700 transition shadow-lg">다시 풀기</button></div>`;
            }
            return `
                <div class="max-w-3xl mx-auto animate-fade-in">
                    <div class="flex items-center justify-between text-sm text-gray-500 mb-4"><span>Question ${currentState.quiz.currentQuestion + 1} of ${reportData.quiz.length}</span><span class="font-bold text-indigo-600">Score: ${currentState.quiz.score}</span></div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-8"><div class="bg-indigo-600 h-2.5 rounded-full transition-all duration-300" style="width: ${((currentState.quiz.currentQuestion) / reportData.quiz.length) * 100}%"></div></div>
                    <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100">
                        <h3 class="text-xl font-bold text-gray-800 mb-6 leading-relaxed">${currentQ.q}</h3>
                        <div class="space-y-3" id="quiz-options">${currentQ.options.map((opt, idx) => `<button onclick="checkAnswer(${idx})" class="quiz-option w-full text-left p-4 rounded-lg border border-gray-200 font-medium text-gray-700 hover:shadow-md">${opt}</button>`).join('')}</div>
                        <div id="quiz-feedback" class="hidden mt-6 p-4 rounded-lg bg-gray-50 border border-gray-200"><div id="feedback-title" class="font-bold text-lg mb-2"></div><p id="feedback-text" class="text-sm text-gray-600"></p><button onclick="nextQuestion()" class="mt-4 bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700">다음 문제 <i class="fa-solid fa-arrow-right ml-2"></i></button></div>
                    </div>
                </div>
            `;
        };

        // Functions
        function navigate(id) {
            currentState.activeSection = id;
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const activeNav = document.getElementById(`nav-${id}`);
            if(activeNav) activeNav.classList.add('active');
            
            const area = document.getElementById('content-area');
            Object.values(currentState.charts).forEach(c => c && c.destroy());
            currentState.charts = {};

            if(id==='overview') { area.innerHTML=renderOverview(); initOverviewCharts(); }
            else if(id==='tech') { area.innerHTML=renderTech(); initTechCharts(); }
            else if(id==='business') { area.innerHTML=renderBusiness(); if(currentState.businessTab==='general') calculateNGR(); else calculateLTV(); }
            else if(id==='regulation') { area.innerHTML=renderRegulation(); }
            else if(id==='growth') { area.innerHTML=renderGrowth(); }
            else if(id==='rg') { area.innerHTML=renderRG(); initRGChart(); }
            else if(id==='future') { area.innerHTML=renderFuture(); }
            else if(id==='quiz') { area.innerHTML=renderQuiz(); }
            
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        function switchBusinessTab(tab) { currentState.businessTab = tab; navigate('business'); }
        
        // FIXED NGR CALCULATION: SEPARATED INPUTS
        function calculateNGR() {
            const bets = parseFloat(document.getElementById('calc-bets').value) || 0;
            const bonus = parseFloat(document.getElementById('calc-bonus').value) || 0;
            const tax = parseFloat(document.getElementById('calc-tax').value) || 0;
            
            const ggr = bets * 0.04; 
            const ngr = ggr - bonus - tax;
            
            document.getElementById('res-ggr').innerText = `$${ggr.toLocaleString()}`;
            document.getElementById('res-ngr').innerText = `$${ngr.toLocaleString()}`;
            const ctx = document.getElementById('ngrChart');
            if(ctx) {
                 if(currentState.charts.ngr) currentState.charts.ngr.destroy();
                 currentState.charts.ngr = new Chart(ctx.getContext('2d'), { 
                     type: 'bar', 
                     data: { 
                         labels: ['GGR', '비용 (보너스+세금)', 'NGR'], 
                         datasets: [{ 
                             label: 'Amount ($)', 
                             data: [ggr, bonus + tax, ngr], 
                             backgroundColor: ['#3b82f6', '#ef4444', '#22c55e'] 
                         }] 
                     }, 
                     options: { 
                         responsive: true, 
                         maintainAspectRatio: false,
                         scales: { y: { beginAtZero: true } } 
                     } 
                 });
            }
        }
        function calculateLTV() {
            const ngr = parseFloat(document.getElementById('ltv-ngr').value) || 0;
            const eco = parseFloat(document.getElementById('ltv-eco').value) || 1.0;
            const hist = parseFloat(document.getElementById('ltv-history').value) || 0;
            document.getElementById('ltv-result').innerText = `$${(ngr * eco * hist).toLocaleString()}`;
        }

        // Tech Simulation Logic (RESTORED & FIXED)
        function runSimulation(rounds) {
            const chart = currentState.charts.sim;
            if(!chart) return;
            
            let data = chart.data.datasets[0].data;
            let labels = chart.data.labels;
            let balance = data[data.length - 1];
            const bet = 10;
            
            // Clear message
            document.getElementById('sim-message').classList.add('hidden');
            if (balance <= 0) return; // Already over

            for(let i=0; i<rounds; i++) {
                if(balance <= 0) break;
                currentState.simulation.spins++;
                balance -= bet;
                // RNG: 30% hit freq
                if(Math.random() < 0.3) {
                    const rand = Math.random();
                    let mult = rand < 0.6 ? 0.5 : (rand < 0.9 ? 2 : 5);
                    balance += bet * mult;
                }
                labels.push('');
                data.push(balance);
            }
            
            // Limit data
            if(data.length > 50) { data.splice(0, data.length - 50); labels.splice(0, labels.length - 50); }
            
            chart.update();
            document.getElementById('sim-balance').innerText = `$${Math.floor(balance).toLocaleString()}`;
            document.getElementById('sim-spins').innerText = currentState.simulation.spins.toLocaleString();
            
            // Calculate RTP
            const totalBet = currentState.simulation.spins * bet;
            const totalWon = balance - 1000 + totalBet;
            const currentRtp = totalBet > 0 ? ((totalWon / totalBet) * 100).toFixed(1) : 0;
            document.getElementById('sim-rtp').innerText = `${currentRtp}%`;

            // Check Game Over
            if(balance <= 0) {
                document.getElementById('sim-message').classList.remove('hidden');
            }
        }

        function resetSimulation() {
            currentState.simulation.spins = 0;
            if(currentState.charts.sim) {
                currentState.charts.sim.data.labels = ['Start'];
                currentState.charts.sim.data.datasets[0].data = [1000];
                currentState.charts.sim.update();
            }
            document.getElementById('sim-balance').innerText = '$1,000';
            document.getElementById('sim-spins').innerText = '0';
            document.getElementById('sim-rtp').innerText = '0%';
            document.getElementById('sim-message').classList.add('hidden');
        }

        function initOverviewCharts() {
            new Chart(document.getElementById('growthChart').getContext('2d'), { type: 'bar', data: { labels: reportData.market.growth.labels, datasets: [{ label: '시장 규모', data: reportData.market.growth.data, backgroundColor: '#4f46e5' }] }, options: { maintainAspectRatio: false } });
            new Chart(document.getElementById('verticalChart').getContext('2d'), { type: 'doughnut', data: { labels: reportData.market.verticals.labels, datasets: [{ data: reportData.market.verticals.data, backgroundColor: ['#4f46e5', '#f59e0b', '#94a3b8'] }] }, options: { maintainAspectRatio: false } });
        }
        function initTechCharts() {
            const ctx = document.getElementById('simChart').getContext('2d');
            currentState.charts.sim = new Chart(ctx, { type: 'line', data: { labels: ['Start'], datasets: [{ label: 'Balance ($)', data: [1000], borderColor: '#4f46e5', backgroundColor: 'rgba(79, 70, 229, 0.1)', fill: true, tension: 0.3 }] }, options: { responsive: true, maintainAspectRatio: false, elements: { point: { radius: 0 } }, scales: { x: { display: false }, y: { suggestedMin: 0 } }, animation: { duration: 0 } } });
        }
        function initRGChart() {
            new Chart(document.getElementById('rgChart').getContext('2d'), { type: 'line', data: { labels: ['1M','3M','6M','12M','24M'], datasets: [{ label: 'Protected User', data: [100, 300, 700, 1500, 2500], borderColor: '#4f46e5' }, { label: 'Burnout User', data: [150, 180, 180, 180, 180], borderColor: '#ef4444', borderDash: [5,5] }] }, options: { maintainAspectRatio: false } });
        }

        function checkAnswer(idx) {
            const q = reportData.quiz[currentState.quiz.currentQuestion];
            const fb = document.getElementById('quiz-feedback');
            const title = document.getElementById('feedback-title');
            
            document.getElementById('feedback-text').innerText = q.rationale;
            fb.classList.remove('hidden');
            
            const btns = document.getElementById('quiz-options').querySelectorAll('button');
            btns.forEach((b, i) => { 
                b.disabled = true; 
                if(i === q.correct) {
                    b.classList.add('correct'); 
                } else if(i === idx) {
                    b.classList.add('wrong'); 
                }
            });

            if (idx === q.correct) {
                currentState.quiz.score++;
                title.innerHTML = '<span class="text-green-600"><i class="fa-solid fa-check-circle mr-2"></i>정답입니다!</span>';
                fb.classList.add('bg-green-50', 'border-green-200');
                fb.classList.remove('bg-red-50', 'border-red-200');
            } else {
                title.innerHTML = '<span class="text-red-600"><i class="fa-solid fa-times-circle mr-2"></i>오답입니다.</span>';
                fb.classList.add('bg-red-50', 'border-red-200');
                fb.classList.remove('bg-green-50', 'border-green-200');
            }
        }
        function nextQuestion() { currentState.quiz.currentQuestion++; navigate('quiz'); }
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }

        document.addEventListener('DOMContentLoaded', () => { navigate('overview'); });
    </script>
</body>
</html>
